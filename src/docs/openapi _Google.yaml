openapi: 3.0.1
info:
  title: API de Autenticación
  contact:
    name: Francisco Robledo Venegas
    url: https://github.com/Riddikuluz/UTEM_API_REST
    email: francisco.robledov@utem.cl
  version: 1.0.0
paths:
  /:
    get:
      summary: Ruta principal
      responses:
        '200':
          description: Respuesta exitosa
          content:
            text/html:
              schema:
                type: string
    /auth/google:
      get:
        summary: Ruta de autenticación con Google
        responses:
          '200':
            description: Respuesta exitosa
          '500':
            description: Error del servidor
    /auth/google/callback:
      get:
        summary: Callback de autenticación con Google
        responses:
          '200':
            description: Redirección exitosa
          '500':
            description: Error del servidor
    /auth/jwt:
      get:
        summary: Ruta protegida con autenticación JWT
        security:
          - aouthToken: []
        responses:
          '200':
            description: Respuesta exitosa
            content:
              application/json:
                schema:
                  type: string
          '500':
            description: Error del servidor
    /auth/jwt/data:
      get:
        summary: Obtener datos del token JWT
        security:
          - aouthToken: []
        responses:
          '200':
            description: Respuesta exitosa
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    sub:
                      type: string
                    name:
                      type: string
                    iat:
                      type: number
                    exp:
                      type: number
          '404':
            description: No se encontraron datos del cliente
    /auth/logout:
      get:
        summary: Ruta para cerrar sesión
        security:
          - aouthToken: []
        responses:
          '200':
            description: Respuesta exitosa
            content:
              application/json:
                schema:
                  type: string
          '500':
            description: Error del servidor
    /auth/failure:
      get:
        summary: Ruta para manejar el fallo de autenticación
        responses:
          '500':
            description: Credenciales no válidas
security:
  - aouthToken: []
components:
  securitySchemes:
    aouthToken:
      type: apiKey
      name: Authorization
      in: header
